<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<script src="js/echarts-all.js"></script>
	<script src="js/my.js"></script>
	<link href="css/style.css" rel="stylesheet" type="text/css" media="all" />
	<link href="css/bootstrap.css" rel='stylesheet' type='text/css' />
	<script src="js/jquery-2.2.3.min.js" type="text/javascript"></script>
  <!--  <script src="http://echarts.baidu.com/build/dist/echarts-all.js" type="text/javascript"></script>-->
	<title>ECharts</title>
</head>
<body>

	<div class="container" style="margin-top:10px;">
		<h1 style="text-align:center;font-family:FangSong">输入微博名来查看用户的情感状况</h1>
		<div class="row">
    		<div class="col-lg-4 col-lg-offset-4">
        		<div class="input-group">
            		<input type="text" class="form-control" placeholder="输入微博名" id="weiboUser">
                	<span class="input-group-btn">
                		<button class="btn btn-info" type="button" onclick="getUserEmotion()"><span>搜索</span></button>
                	</span>
            	</div>
        	</div>
    	</div>
    </div>
    
    <div id="main" style="height:400px;margin-top:10px;"></div>
</body>
</html>

 <script>
 
 	var myChart = echarts.init(document.getElementById('main'), "macarons"); 
 	
 	function getUserEmotion(){
 		//alert($("#weiboUser").val());
 		$.post("getUserEmotion",
 				{
 					"userName" : $("#weiboUser").val()
 				},
 				function(msg){
 					var obj = eval("(" + msg + ")");
 					//console.log(msg);
 					//console.log(obj);
 					for (i in obj)
 						console.log(obj[i]);
 				}
 			);
 	}
	
	$(document).ready(function(){
		//pop();
		option = {
	 		    title : {
	 		        text: '人物情感动向',
	 		        subtext: '戚圣凯'
	 		    },
	 		    tooltip : {
	 		        trigger: 'axis'
	 		    },
	 		    legend: {
	 		        data:['情感值']
	 		    },
	 		    toolbox: {
	 		        show : true,
	 		        feature : {
	 		            mark : {show: true},
	 		            dataView : {show: true, readOnly: false},
	 		            magicType : {show: true, type: ['line', 'bar']},
	 		            restore : {show: true},
	 		            saveAsImage : {show: true}
	 		        }
	 		    },
	 		    calculable : true,
	 		    xAxis : [
	 		        {
	 		            type : 'category',
	 		            boundaryGap : false,
	 		            data : ['周一','周二','周三','周四','周五','周六','周日']
	 		        }
	 		    ],
	 		    yAxis : [
	 		        {
	 		            type : 'value',
	 		            axisLabel : {
	 		                formatter: '{value}'
	 		            }
	 		        }
	 		    ],
	 		    series : [
	 		        {
	 		            name:'情感值',
	 		            type:'line',
	 		            data:[-0.4, -0.2, 0.6, 0.1, 0.3, -0.5, -0.1],
	 		            markPoint : {
	 		                data : [
	 		                    {type : 'max', name: '最大值'},
	 		                    {type : 'min', name: '最小值'}
	 		                ]
	 		            },
	 		            markLine : {
	 		                data : [
	 		                    {type : 'average', name: '平均值'}
	 		                ]
	 		            }
	 		        }
	 		    ]
	 		};

		// 为echarts对象加载数据 
		myChart.setOption(option); 
	});
</script>